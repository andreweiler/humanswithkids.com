<% if post.published? %>
<div class="twitter-button">
  <a href="https://twitter.com/share" class="twitter-share-button" data-via="" data-counturl="<%= post.tweet_url(request.url) %>" data-count="none" data-text="<%= post.title %>" data-url="<%= post.tweet_url(request.url) %>">Tweet</a>

  <p class="hide">Tweet url:  <%= post.tweet_url(request.url) %></p>

  <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>
</div>

<div class="facebook-button">
  <div class="fb-like" data-href="<%= request.url %>" data-send="false" data-layout="button_count" data-show-faces="false"></div>
  <%# data-layout="box_count" for the vertical box %>
</div>

<%# HIDES THE FACEBOOK LIKE COUNT %>
<style type="text/css">
/* make the like button smaller */
.fb_edge_widget_with_comment iframe
{
    width:47px !important;
}

/* but make the span that holds the comment box larger */
span.fb_edge_comment_widget.fb_iframe_widget iframe
{
    width:401px !important;
}
</style>

<% end %>